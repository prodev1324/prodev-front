tg-lightbox-close

.create-epic-container
    h2.title(translate="EPICS.CREATE.TITLE")
    form(
        ng-submit="vm.createEpic()"
    )
        fieldset
            tg-color-selector(
                is-required="true"
                init-color="vm.newEpic.color"
                on-select-color="vm.selectColor(color)"
            )
            input.e2e-create-epic-subject(
                type="text"
                name="subject"
                maxlength="140"
                ng-model="vm.newEpic.subject"
                tg-auto-select
                placeholder="{{'COMMON.FIELDS.SUBJECT' | translate}}"
                required
            )
        fieldset
            select.e2e-create-epic-status(
                id="epic-status"
                name="status"
                ng-model="vm.newEpic.status"
            )
                option(
                    ng-repeat="status in vm.project.epic_statuses | orderBy:'order'"
                    ng-value="::status.id"
                    ng-selected="vm.project.default_epic_status"
                ) {{::status.name}}
        fieldset.tags-block
            tg-tag-line-common(
                project="vm.project"
                tags="vm.newEpic.tags"
                permissions="add_epic"
                on-add-tag="vm.addTag(name, color)"
                on-delete-tag="vm.deleteTag(tag)"
            )
        fieldset
            textarea.e2e-create-epic-description(
                ng-attr-placeholder="{{'COMMON.FIELDS.DESCRIPTION' | translate}}"
                ng-model="vm.newEpic.description"
            )
        fieldset
            tg-attachments-simple(
                attachments="vm.attachments"
                on-add="vm.addAttachment(attachment)"
            )
        .settings
            fieldset.team-requirement
                input(
                    type="checkbox"
                    name="team_requirement"
                    ng-model="vm.newEpic.team_requirement"
                    id="team-requirement"
                )
                label.requirement.trans-button.e2e-create-epic-team-requirement(
                    for="team-requirement"
                    translate="EPICS.CREATE.TEAM_REQUIREMENT"
                )
            fieldset.client-requirement
                input(
                    type="checkbox"
                    name="client_requirement"
                    ng-model="vm.newEpic.client_requirement"
                    id="client-requirement"
                )
                label.requirement.trans-button.e2e-create-epic-client-requirement(
                    for="client-requirement"
                    translate="EPICS.CREATE.CLIENT_REQUIREMENT"
                )
            fieldset
                input(
                    type="checkbox"
                    name="blocked"
                    ng-model="vm.newEpic.is_blocked"
                    id="blocked"
                    ng-click="displayBlockedReason = !displayBlockedReason"
                )
                label.requirement.trans-button.blocked.e2e-create-epic-blocked(
                    for="blocked"
                    translate="EPICS.CREATE.BLOCKED"
                )
        fieldset(ng-if="displayBlockedReason")
            input.e2e-create-epic-blocked-note(
                type="text"
                name="blocked_note"
                maxlength="140"
                ng-model="vm.newEpic.blocked_note"
                placeholder="{{'EPICS.CREATE.BLOCKED_NOTE_PLACEHOLDER' | translate}}"
            )
        fieldset
            input.button-green.create-epic-button.e2e-create-epic-button(
                type="submit"
                translate="EPICS.CREATE.CREATE_EPIC"
            )
