block head
    title Taiga  Your agile, free, and open source project management tool

block content
    div.wrapper.roles(tg-gitlab-webhooks, ng-controller="GitlabController as ctrl",
                            ng-init="section='admin'")
        sidebar.menu-secondary.sidebar(tg-admin-navigation="third-parties")
            include views/modules/admin-menu
        sidebar.menu-tertiary.sidebar(tg-admin-navigation="third-parties-gitlab")
            include views/modules/admin-submenu-third-parties

        section.main.admin-common.admin-third-parties
            include views/components/mainTitle

            form
                fieldset
                    label(for="valid-origin-ips") Valid origin ips (separated by ,) <br/>Gitlab requests are not signed so the best way of verifying the origin is by IP. If the field is empty there will be no IP validation.
                    input(type="text", name="valid-origin-ips", tg-valid-origin-ips, ng-model="gitlab.valid_origin_ips", placeholder="Valid origin ips", id="valid-origin-ips")

                fieldset
                    label(for="secret-key") Secret key
                    input(type="text", name="secret-key", ng-model="gitlab.secret", placeholder="Secret key", id="secret-key")

                fieldset
                    .select-input-text(tg-select-input-text)
                        div
                            label(for="payload-url") Payload URL
                            .field-with-option
                                input(type="text", ng-model="gitlab.webhooks_url", name="payload-url", readonly="readonly", placeholder="Payload URL", id="payload-url")
                                .option-wrapper.select-input-content
                                    .icon.icon-copy
                            .help-copy Copy to clipboard: Ctrl+C

                button(type="submit", class="hidden")
                a.button.button-green.submit-button(href="", title="Save") Save

            a.help-button(href="https://taiga.io/support/gitlab-integration/", target="_blank")
                span.icon.icon-help
                span Do you need help? Check out our support page!
