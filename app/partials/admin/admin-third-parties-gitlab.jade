doctype html

div.wrapper.roles(tg-gitlab-webhooks, ng-controller="GitlabController as ctrl",
                        ng-init="section='admin'")
    sidebar.menu-secondary.sidebar(tg-admin-navigation="third-parties")
        include ../includes/modules/admin-menu
    sidebar.menu-tertiary.sidebar(tg-admin-navigation="third-parties-gitlab")
        include ../includes/modules/admin-submenu-third-parties

    section.main.admin-common.admin-third-parties
        include ../includes/components/mainTitle

        form
            fieldset
                label(for="secret-key", translate="ADMIN.THIRD_PARTIES.SECRET_KEY")
                input(type="text", name="secret-key", ng-model="gitlab.secret", placeholder="{{'ADMIN.THIRD_PARTIES.SECRET_KEY' | translate}}", id="secret-key")

            fieldset
                .select-input-text(tg-select-input-text)
                    div
                        label(for="payload-url", translate="ADMIN.THIRD_PARTIES.PAYLOAD_URL")
                        .field-with-option
                            input(type="text", ng-model="gitlab.webhooks_url", name="payload-url", readonly="readonly", placeholder="{{'ADMIN.THIRD_PARTIES.PAYLOAD_URL' | translate}}", id="payload-url")
                            .option-wrapper.select-input-content
                                .icon.icon-copy
                        .help-copy(translate="COMMON.COPY_TO_CLIPBOARD")

            fieldset
                label(for="valid-origin-ips", translate="ADMIN.THIRD_PARTIES.VALID_IPS")
                input(type="text", name="valid-origin-ips", tg-valid-origin-ips, ng-model="gitlab.valid_origin_ips", placeholder="{{'ADMIN.GITLAB.INFO_VERIFYING_IP' | translate}}", id="valid-origin-ips")

            button.button-green.submit-button(type="submit", title="{{'COMMON.SAVE' | translate}}", translate="COMMON.SAVE")

        a.help-button(href="https://taiga.io/support/gitlab-integration/", target="_blank")
            span.icon.icon-help
            span(translate="ADMIN.HELP")
