div.wrapper.roles(tg-bitbucket-webhooks, ng-controller="BitbucketController as ctrl",
                        ng-init="section='admin'")
    sidebar.menu-secondary.sidebar(tg-admin-navigation="third-parties")
        include ../includes/modules/admin-menu
    sidebar.menu-tertiary.sidebar(tg-admin-navigation="third-parties-bitbucket")
        include ../includes/modules/admin-submenu-third-parties

    section.main.admin-common.admin-third-parties
        include ../includes/components/mainTitle

        form
            fieldset
                label(for="secret-key") Secret key
                input(type="text", name="secret-key", ng-model="bitbucket.secret", placeholder="Secret key", id="secret-key")

            fieldset
                .select-input-text(tg-select-input-text)
                    div
                        label(for="payload-url") Payload URL
                        .field-with-option
                            input(type="text", ng-model="bitbucket.webhooks_url", name="payload-url", readonly="readonly", placeholder="Payload URL", id="payload-url")
                            .option-wrapper.select-input-content
                                .icon.icon-copy
                        .help-copy Copy to clipboard: Ctrl+C

            fieldset
                label(for="valid-origin-ips") Valid origin ips (separated by ,)
                input(type="text", name="valid-origin-ips", tg-valid-origin-ips, ng-model="bitbucket.valid_origin_ips", placeholder="Bitbucket requests are not signed so the best way of verifying the origin is by IP. If the field is empty there will be no IP validation.", id="valid-origin-ips")

            button(type="submit", class="hidden")
            a.button.button-green.submit-button(href="", title="Save") Save


        a.help-button(href="https://taiga.io/support/bitbucket-integration/", target="_blank")
            span.icon.icon-help
            span Do you need help? Check out our support page!
